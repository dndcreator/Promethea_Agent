{
    "system": {
        "version": "1.0",
        "stream_mode": true,
        "debug": false,
        "log_level": "INFO"
    },
    "api": {
        "base_url": "https://openrouter.ai/api/v1",
        "model": "nvidia/nemotron-3-nano-30b-a3b:free",
        "temperature": 0.7,
        "max_tokens": 2000,
        "max_history_rounds": 10,
        "timeout": null,
        "retry_count": null
    },
    "memory": {
        "enabled": true,
        "api": {
            "use_main_api": true,
            "api_key": "",
            "base_url": "https://openrouter.ai/api/v1",
            "model": ""
        },
        "neo4j": {
            "enabled": true,
            "uri": "bolt://127.0.0.1:7687",
            "username": "neo4j",
            "password": "",
            "database": "neo4j",
            "connection_timeout": 3
        },
        "hot_layer": {
            "max_tuples_per_message": 10,
            "min_confidence": 0.5,
            "enable_coreference": false,
            "enable_time_normalization": true,
            "message_retention_days": 30,
            "message_cleanup_batch": 200
        },
        "warm_layer": {
            "enabled": true,
            "embedding_model": "text-embedding-3-small",
            "clustering_threshold": 0.7,
            "min_cluster_size": 3,
            "max_concepts": 100,
            "stabilize_min_sessions": 2,
            "stabilize_min_mentions": 3,
            "stabilize_importance_floor": 0.8,
            "cluster_every_messages": 12,
            "cluster_min_interval_s": 300,
            "idle_cluster_delay_s": 120,
            "idle_cluster_min_messages": 2,
            "idle_cluster_min_interval_s": 60
        },
        "cold_layer": {
            "summary_model": "nvidia/nemotron-3-nano-30b-a3b:free",
            "max_summary_length": 500,
            "compression_threshold": 50
        },
        "gating": {
            "recall_filter": {
                "enabled": true,
                "min_query_chars": 6,
                "max_query_chars": 4000
            },
            "write_filter": {
                "enabled": true,
                "min_user_chars": 4,
                "min_assistant_chars_for_short_user": 20,
                "max_combined_chars": 8000
            },
            "dedupe": {
                "recent_write_cache_size": 2000,
                "min_candidate_chars": 8
            }
        }
    }
}
